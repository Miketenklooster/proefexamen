{% extends 'admin.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
{% endblock %}

{% block header %}
    <h1 class="text-center">Gallery index</h1>
{% endblock %}

{% block main %}
    <a type="button" class="m-2 float-right btn btn-primary" href="{{ path('gallery_new') }}">Create new</a>
    <table class="table">
        <thead>
            <tr>
                <th>#</th>
                <th>Info</th>
                <th>Category</th>
                <th>Image_name</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% set id = 1 %}
        {% for gallery in galleries %}
            <tr>
                <td>{{ id }}</td>
                <td class="text-truncate vw-15">{{ gallery.info }}</td>
                <td>{{ gallery.category }}</td>
                <td>{{ gallery.imageName }}</td>
                <td>
                    <a href="{{ path('gallery_show', {'id': gallery.id}) }}" class="text-info"><i class="far fa-eye"></i></a> |
                    <a href="{{ path('gallery_edit', {'id': gallery.id}) }}" class="text-warning"><i class="far fa-edit"></i></a> |
                    <a href="" class="popover-a text-danger" tabindex="0"  role="button" data-toggle="popover" data-trigger="focus" title='<p class="">Are you sure you want to delete this user?</p>' data-content='{{ include('admin/gallery/_delete_form.html.twig') }}'><i class="far fa-trash-alt"></i></a> |
                    <a href="../../image_gallery/{{ gallery.imageName }}" data-fancybox="images" class="text-primary"><i class="far fa-image"></i></a>
                </td>
            </tr>
            {% set id = id + 1 %}
        {% else %}
            <tr>
                <td colspan="5">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
    <script>
        // sets the hash of the fancybox on false
        $.fancybox.defaults.hash = false;
    </script>
{% endblock %}


